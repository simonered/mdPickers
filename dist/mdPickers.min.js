!function(){"use strict";function e(e,t,n,i,a,r,o,s,c){e.$mdMedia=n;var m=this;this.selectingYear=!1,this.init=function(){this.currentMoment=this.normalizeMoment(a),this.minMoment=this.normalizeMoment(r,!0),this.maxMoment=this.normalizeMoment(o,!0),this.minMoment&&this.maxMoment&&this.maxMoment.isBefore(this.minMoment,"days")&&(this.maxMoment=moment(this.minMoment).add(1,"days")),this.currentMoment&&(this.minMoment&&this.currentMoment.isBefore(this.minMoment,"days")&&(this.currentMoment=moment(this.minMoment)),this.maxMoment&&this.currentMoment.isAfter(this.maxMoment,"days")&&(this.currentMoment=moment(this.maxMoment))),e.year=this.currentMoment.year();var t=this.minMoment?this.minMoment.year():1900;this.maxMoment?this.maxMoment.year():null;this.yearItems={currentIndex_:0,PAGE_SIZE:5,START:t,getItemAtIndex:function(e){return this.currentIndex_<e&&(this.currentIndex_=e),this.START+e},getLength:function(){return this.currentIndex_+Math.floor(this.PAGE_SIZE/2)}}},this.normalizeMoment=function(e,t){if(!e){if(t)return;e=s||c?moment().utc(!0):moment()}return e=moment.isMoment(e)?e:moment(e),s?e=moment.utc([e.year(),e.month(),e.date()]):c&&(e=moment.utc([e.year(),e.month(),e.date()]).utcOffset(c,!0)),e},this.selectYear=function(t){m.currentMoment.year(t),e.year=t,m.selectingYear=!1,m.animate()},this.showYear=function(){m.yearTopIndex=m.currentMoment.year()-m.yearItems.START+Math.floor(m.yearItems.PAGE_SIZE/2),m.yearItems.currentIndex_=m.currentMoment.year()-m.yearItems.START+1,m.selectingYear=!0},this.showCalendar=function(){m.selectingYear=!1},this.today=function(){m.currentMoment=this.normalizeMoment(),this.selectYear(m.currentMoment.year())},this.isTodayAvailable=function(){var e=!0,t=!0,n=this.normalizeMoment(moment());return this.minMoment&&(e=n.isSameOrAfter(this.minMoment,"days")),this.maxMoment&&(t=n.isSameOrBefore(this.maxMoment,"days")),e&&t},this.cancel=function(){t.cancel()},this.confirm=function(){var e=this.currentMoment;this.minMoment&&this.currentMoment.isBefore(this.minMoment,"days")&&(e=moment(this.minMoment)),this.maxMoment&&this.currentMoment.isAfter(this.maxMoment,"days")&&(e=moment(this.maxMoment)),t.hide(e.toDate())},this.animate=function(){m.animating=!0,i(angular.noop).then(function(){m.animating=!1})},this.init()}function t(e){this.weekDays=moment.weekdaysMin(),this.daysInMonth=[],this.updateDaysInMonth=function(){for(var t=e.date.daysInMonth(),n=moment(e.date).date(1).day(),i=7*Math.ceil((t+n)/7),a=[],r=1;i>=r;r++){var o=r-n;a.push(r>n&&t+n>=r?{n:o,valid:this.isValidDay(o)}:!1)}this.daysInMonth=a},this.isValidDay=function(t){var n=!0,i=!0,a=moment(e.date).date(t);return e.minDate&&(n=a.isSameOrAfter(e.minDate)),e.maxDate&&(i=a.isSameOrBefore(e.maxDate)),n&&i},this.selectDate=function(t){e.date.date(t)},this.nextMonth=function(){e.date.add(1,"months"),this.updateDaysInMonth()},this.prevMonth=function(){e.date.subtract(1,"months"),this.updateDaysInMonth()},this.$onInit=function(){this.updateDaysInMonth()}}function n(e,t,n,i,a,r,o){e.$mdMedia=n;var s=this;this.VIEW_HOURS=1,this.VIEW_MINUTES=2,this.currentView=this.VIEW_HOURS,this.autoSwitch=!!a,this.init=function(){this.time=this.normalizeMoment(i),this.clockHours=parseInt(this.time.format("h")),this.clockMinutes=parseInt(this.time.minutes())},this.normalizeMoment=function(e,t){if(!e){if(t)return;e=r||o?moment().utc(!0):moment()}return e=moment.isMoment(e)?e:moment(e),r?e=moment(e).utc():o&&(e=moment(e).utcOffset(o)),e},this.switchView=function(){s.currentView=s.currentView==s.VIEW_HOURS?s.VIEW_MINUTES:s.VIEW_HOURS},this.setAM=function(){s.time.hours()>=12&&s.time.hour(s.time.hour()-12)},this.setPM=function(){s.time.hours()<12&&s.time.hour(s.time.hour()+12)},this.now=function(){s.time=this.normalizeMoment()},this.cancel=function(){t.cancel()},this.confirm=function(){t.hide(this.time.toDate())},this.init()}function i(e){var t="hours",n="minutes",i=this;this.STEP_DEG=30,this.steps=[],this.CLOCK_TYPES={hours:{range:12},minutes:{range:60}},this.getPointerStyle=function(){var e=1;switch(i.type){case t:e=12;break;case n:e=60}var a=Math.round(i.selected*(360/e))-180;return{"-webkit-transform":"rotate("+a+"deg)","-ms-transform":"rotate("+a+"deg)",transform:"rotate("+a+"deg)"}},this.setTimeByDeg=function(e){e=e>=360?0:e;var a=0;switch(i.type){case t:a=12;break;case n:a=60}i.setTime(Math.round(a/360*e))},this.setTime=function(e){switch(this.selected=e,i.type){case t:"PM"==i.time.format("A")&&(e+=12),this.time.hours(e);break;case n:e>59&&(e-=60),this.time.minutes(e)}},this.$onInit=function(){switch(i.type=i.type||"hours",i.type){case t:for(var e=1;12>=e;e++)i.steps.push(e);i.selected=i.time.hours()||0,i.selected>12&&(i.selected-=12);break;case n:for(var e=5;55>=e;e+=5)i.steps.push(e);i.steps.push(0),i.selected=i.time.minutes()||0}}}var a=angular.module("mdPickers",["ngMaterial","ngAnimate","ngAria"]);a.provider("$mdpDatePicker",function(){var t="OK",n="Cancel",i="Today";this.setOKButtonLabel=function(e){t=e},this.setCancelButtonLabel=function(e){n=e},this.$get=["$mdDialog",function(a){var r=function(r,o){return angular.isDate(r)||(r=null),angular.isObject(o)||(o={}),angular.isDate(o.minDate)||(o.minDate=null),angular.isDate(o.maxDate)||(o.maxDate=null),o.useUtc&&"undefined"!=typeof o.useUtc||(o.useUtc=!1),a.show({controller:["$scope","$mdDialog","$mdMedia","$timeout","currentDate","minDate","maxDate","useUtc","utcOffset",e],controllerAs:"datepicker",clickOutsideToClose:!0,skipHide:!0,template:'<md-dialog aria-label="" class="mdp-datepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><md-dialog-content layout="row" layout-wrap><div layout="column" layout-align="start center"><md-toolbar layout-align="start start" flex class="mdp-datepicker-date-wrapper md-hue-1 md-primary" layout="column"><span class="mdp-datepicker-year" ng-click="datepicker.showYear()" ng-class="{ \'active\': datepicker.selectingYear }">{{ datepicker.currentMoment.format(\'YYYY\') }}</span><span class="mdp-datepicker-date" ng-click="datepicker.showCalendar()" ng-class="{ \'active\': !datepicker.selectingYear }">{{ datepicker.currentMoment.format("ddd, MMM DD") }}</span> </md-toolbar></div><div><div class="mdp-datepicker-select-year mdp-animation-zoom" layout="column" ng-if="datepicker.selectingYear"><md-virtual-repeat-container md-auto-shrink md-top-index="datepicker.yearTopIndex"><div flex md-virtual-repeat="item in datepicker.yearItems" md-on-demand class="repeated-year"><span class="md-button" ng-click="datepicker.selectYear(item)" md-ink-ripple ng-class="{ \'md-primary current\': item == year }">{{ item }}</span></div></md-virtual-repeat-container></div><mdp-calendar ng-if="!datepicker.selectingYear" class="mdp-animation-zoom" date="datepicker.currentMoment" min-date="datepicker.minMoment" max-date="datepicker.maxMoment"></mdp-calendar><md-dialog-actions layout="row"><md-button ng-click="datepicker.today()" ng-if="datepicker.isTodayAvailable()" aria-label="'+i+'">'+i+'</md-button><span flex></span><md-button ng-click="datepicker.cancel()" aria-label="'+n+'">'+n+'</md-button><md-button ng-click="datepicker.confirm()" class="md-primary" aria-label="'+t+'">'+t+"</md-button></md-dialog-actions></div></md-dialog-content></md-dialog>",targetEvent:o.targetEvent,locals:{currentDate:r,minDate:o.minDate,maxDate:o.maxDate,useUtc:o.useUtc,utcOffset:o.utcOffset},fullscreen:o.fullscreen})};return r}]}),a.directive("mdpCalendar",["$animate",function(e){return{restrict:"E",scope:{date:"=",minDate:"=",maxDate:"="},template:'<div class="mdp-calendar"><div layout="row" layout-align="space-between center"><md-button aria-label="previous month" class="md-icon-button" ng-click="calendar.prevMonth()"><md-icon md-font-set="material-icons"> chevron_left </md-icon></md-button><md-button class="mdp-calendar-monthyear" ng-show="!calendar.animating" ng-click="showYear()">{{ date.format("MMMM YYYY") }}</md-button><md-button aria-label="next month" class="md-icon-button" ng-click="calendar.nextMonth()"><md-icon md-font-set="material-icons"> chevron_right </md-icon></md-button></div><div layout="row" layout-align="space-around center" class="mdp-calendar-week-days" ng-show="!calendar.animating"><div layout layout-align="center center" ng-repeat="d in calendar.weekDays track by $index">{{ d }}</div></div><div layout="row" layout-align="space-around center" layout-wrap class="mdp-calendar-days" ng-class="{ \'mdp-animate-next\': calendar.animating }" ng-show="!calendar.animating" md-swipe-left="calendar.nextMonth()" md-swipe-right="calendar.prevMonth()"><div layout layout-align="center center" ng-repeat-start="day in calendar.daysInMonth track by $index" ng-class="{ \'mdp-day-placeholder\': day === false }"><md-button class="md-icon-button md-raised" aria-label="Select day" ng-if="day !== false" ng-class="{\'md-accent\': date.date() == day.n}" ng-click="calendar.selectDate(day.n)" ng-disabled="!day.valid">{{ day.n }}</md-button></div><div flex="100" ng-if="($index + 1) % 7 == 0" ng-repeat-end></div></div></div>',controller:["$scope",t],controllerAs:"calendar",link:function(t,n,i,a){var r=t.$parent.datepicker;t.showYear=r.showYear;var o=[n[0].querySelector(".mdp-calendar-week-days"),n[0].querySelector(".mdp-calendar-days"),n[0].querySelector(".mdp-calendar-monthyear")];o=o.map(function(e){return angular.element(e)}),t.$watch(function(){return t.date.format("YYYYMM")},function(t,n){var i=null;if(t>n?i="mdp-animate-next":n>t&&(i="mdp-animate-prev"),i)for(var a in o)o[a].addClass(i),e.removeClass(o[a],i)})}}}]),a.directive("mdpDatePicker",["$mdpDatePicker","$timeout",function(e,t){return{restrict:"A",require:"?ngModel",scope:{ngModel:"=",minDate:"=mdpMinDate",maxDate:"=mdpMaxDate",useMobile:"=?mdpUseMobile",useUtc:"=?mdpUseUtc",utcOffset:"@mdpUtcOffset",fullscreen:"=mdpFullscreen"},link:function(n,i,a,r){if(!a.readonly&&!a.disabled)if("undefined"!=typeof a.type&&"date"===a.type.toLowerCase()&&r&&"undefined"!=typeof n.useMobile&&n.useMobile&&"mobile"===detect.parse(navigator.userAgent).device.type.toLowerCase());else{var o=function(i){i.preventDefault(),e(r.$modelValue,{targetEvent:i,autoSwitch:n.minDate,minDate:n.maxDate,useUtc:n.useUtc,utcOffset:n.utcOffset,fullscreen:n.fullscreen||!1}).then(function(e){t(function(){var t=function(e){return e?(n.useUtc?e=moment.utc([e.year(),e.month(),e.date()]):n.utcOffset&&(e=moment.utc([e.year(),e.month(),e.date()]).utcOffset(n.utcOffset,!0)),e):void 0},i=t(moment(e)),a=n.minDate?t(moment(n.minDate)):null,o=n.maxDate?t(moment(n.maxDate)):null;a&&o&&o.isBefore(a,"days")&&(o=t(moment(a)).add(1,"days")),a&&a.isValid()&&r.$setValidity("mindate",i.isSameOrAfter(a,"days")),o&&o.isValid()&&r.$setValidity("maxdate",i.isSameOrBefore(o,"days")),n.ngModel=i.toDate()})})};i.on("click",o),n.$on("$destroy",function(){i.off("click",o)})}}}}]),a.directive("mdpClock",["$animate","$timeout",function(e,t){return{restrict:"E",bindToController:{type:"@?",time:"=",autoSwitch:"=?"},replace:!0,template:'<div class="mdp-clock"><div class="mdp-clock-container"><md-toolbar class="mdp-clock-center md-primary"></md-toolbar><md-toolbar ng-style="clock.getPointerStyle()" class="mdp-pointer md-primary"><span class="mdp-clock-selected md-button md-raised md-primary"></span></md-toolbar><md-button ng-class="{ \'md-primary\': clock.selected == step }" class="md-icon-button md-raised mdp-clock-deg{{ ::(clock.STEP_DEG * ($index + 1)) }}" ng-repeat="step in clock.steps" ng-click="clock.setTime(step)">{{ step }}</md-button></div></div>',controller:["$scope",i],controllerAs:"clock",link:function(e,n,i,a){var r=(angular.element(n[0].querySelector(".mdp-pointer")),e.$parent.timepicker),o=function(e){var n=e.currentTarget.getClientRects()[0],i=e.currentTarget.offsetWidth/2-(e.pageX-n.left),o=e.pageY-n.top-e.currentTarget.offsetHeight/2,s=Math.round(Math.atan2(i,o)*(180/Math.PI));t(function(){a.setTimeByDeg(s+180),a.autoSwitch&&-1!==["mouseup","click"].indexOf(e.type)&&r&&r.currentView==r.VIEW_HOURS&&r.switchView()})};n.on("mousedown",function(){n.on("mousemove",o)}),n.on("mouseup",function(e){n.off("mousemove")}),n.on("click",o),e.$on("$destroy",function(){n.off("click",o),n.off("mousemove",o)})}}}]),a.provider("$mdpTimePicker",function(){var e="OK",t="Cancel",i="Now";this.setOKButtonLabel=function(t){e=t},this.setCancelButtonLabel=function(e){t=e},this.setNowButtonLabel=function(e){i=e},this.$get=["$mdDialog",function(i){var a=function(a,r){return angular.isDate(a)||(a=null),angular.isObject(r)||(r={}),i.show({controller:["$scope","$mdDialog","$mdMedia","time","autoSwitch","useUtc","utcOffset",n],controllerAs:"timepicker",clickOutsideToClose:!0,skipHide:!0,template:'<md-dialog aria-label="" class="mdp-timepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><md-dialog-content flex layout-gt-xs="row" layout-wrap><md-toolbar layout-gt-xs="column" layout-xs="row" layout-align="center center" flex-xs="100" flex-gt-xs="35" class="mdp-timepicker-time md-hue-1 md-primary"><div class="mdp-timepicker-selected-time"><span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_HOURS }" ng-click="timepicker.currentView = timepicker.VIEW_HOURS">{{ timepicker.time.format("h") }}</span>:<span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_MINUTES }" ng-click="timepicker.currentView = timepicker.VIEW_MINUTES">{{ timepicker.time.format("mm") }}</span></div><div layout="column" class="mdp-timepicker-selected-ampm"><span ng-click="timepicker.setAM()" ng-class="{ \'active\': timepicker.time.hours() < 12 }">AM</span><span ng-click="timepicker.setPM()" ng-class="{ \'active\': timepicker.time.hours() >= 12 }">PM</span></div></md-toolbar><div flex layout="column"><div class="mdp-clock-switch-container" ng-switch="timepicker.currentView" flex layout layout-align="center center"><mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="hours" ng-switch-when="1"></mdp-clock><mdp-clock class="mdp-animation-zoom" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="minutes" ng-switch-when="2"></mdp-clock></div><md-dialog-actions layout="row" layout-align="center center"><md-button style="margin: 0" ng-click="timepicker.cancel()" aria-label="'+t+'">'+t+'</md-button><md-button style="margin: 0" ng-click="timepicker.confirm()" class="md-primary" aria-label="'+e+'">'+e+"</md-button></md-dialog-actions></div></md-dialog-content></md-dialog>",targetEvent:r.targetEvent,locals:{time:a,autoSwitch:r.autoSwitch,useUtc:r.useUtc,utcOffset:r.utcOffset},fullscreen:r.fullscreen})};return a}]}),a.directive("mdpTimePicker",["$mdpTimePicker","$timeout",function(e,t){return{restrict:"E",require:"ngModel",transclude:!0,template:function(e,t){var n=angular.isDefined(t.mdpNoFloat),i=angular.isDefined(t.mdpPlaceholder)?t.mdpPlaceholder:"",a=angular.isDefined(t.mdpOpenOnClick)?!0:!1;return'<div layout layout-align="start start"><md-button class="md-icon-button" ng-click="showPicker($event)"'+(angular.isDefined(t.mdpDisabled)?' ng-disabled="disabled"':"")+'><md-icon md-svg-icon="mdp-access-time"></md-icon></md-button><md-input-container'+(n?" md-no-float":"")+' md-is-error="isError()"><input type="{{ ::type }}"'+(angular.isDefined(t.mdpDisabled)?' ng-disabled="disabled"':"")+' aria-label="'+i+'" placeholder="'+i+'"'+(a?' ng-click="showPicker($event)" ':"")+" /></md-input-container></div>"},scope:{timeFormat:"@mdpFormat",placeholder:"@mdpPlaceholder",autoSwitch:"=?mdpAutoSwitch",disabled:"=?mdpDisabled",useUtc:"=?mdpUseUtc",utcOffset:"@mdpUtcOffset",fullscreen:"=mdpFullscreen"},link:function(t,n,i,a,r){function o(e){l[0].value=e,u.setHasValue(!a.$isEmpty(e))}function s(e){return e?(t.useUtc?e=moment(e).utc():t.utcOffset&&(e=moment(e).utcOffset(t.utcOffset)),e):void 0}function c(e){var n=s(moment(e,angular.isDate(e)?null:t.timeFormat,!0)),i=n.format(t.timeFormat);n.isValid()?(o(i),a.$setViewValue(i)):(o(e),a.$setViewValue(e)),!a.$pristine&&p.hasClass("md-auto-hide")&&d.hasClass("md-input-invalid")&&p.removeClass("md-auto-hide"),a.$render()}function m(e){e.target.value!==a.$viewVaue&&c(e.target.value)}var l=angular.element(n[0].querySelector("input")),d=angular.element(n[0].querySelector("md-input-container")),u=d.controller("mdInputContainer");r(function(e){d.append(e)});var p=angular.element(d[0].querySelector("[ng-messages]"));t.type=t.timeFormat?"text":"time",t.timeFormat=t.timeFormat||"HH:mm",t.autoSwitch=t.autoSwitch||!1,t.useUtc=t.useUtc||!1,t.$watch(function(){return a.$error},function(e,t){u.setInvalid(!a.$pristine&&!!Object.keys(a.$error).length)},!0),a.$formatters.unshift(function(e){var n=angular.isDate(e)&&moment(e);o(n&&n.isValid()?n.format(t.timeFormat):null)}),a.$validators.format=function(e,n){return!n||angular.isDate(n)||moment(n,t.timeFormat,!0).isValid()},a.$validators.required=function(e,t){return angular.isUndefined(i.required)||!a.$isEmpty(e)||!a.$isEmpty(t)},a.$parsers.unshift(function(e){var n=moment(e,t.timeFormat,!0);if(n.isValid()){if(angular.isDate(a.$modelValue)){var i=moment(a.$modelValue);i.minutes(n.minutes()),i.hours(n.hours()),i.seconds(n.seconds()),n=i}return n.toDate()}return null}),t.showPicker=function(n){e(a.$modelValue,{targetEvent:n,autoSwitch:t.autoSwitch,useUtc:t.useUtc,utcOffset:t.utcOffset,fullscreen:t.fullscreen}).then(function(e){c(e,!0)})},l.on("reset input blur",m),t.$on("$destroy",function(){l.off("reset input blur",m)})}}}]),a.directive("mdpTimePicker",["$mdpTimePicker","$timeout",function(e,t){return{restrict:"A",require:"ngModel",scope:{timeFormat:"@mdpFormat",useMobile:"=mdpUseMobile",autoSwitch:"=?mdpAutoSwitch",useUtc:"=?mdpUseUtc",utcOffset:"@mdpUtcOffset",fullscreen:"=mdpFullscreen"},link:function(t,n,i,a,r){if("undefined"!=typeof i.type&&"time"===i.type.toLowerCase()&&a&&"undefined"!=typeof t.useMobile&&t.useMobile&&"mobile"===detect.parse(navigator.userAgent).device.type.toLowerCase());else{t.timeFormat=t.timeFormat||"HH:mm",t.autoSwitch=t.autoSwitch||!1,t.useUtc=t.useUtc||!1;var o=function(i){i.preventDefault(),e(a.$modelValue,{targetEvent:i,autoSwitch:t.autoSwitch,useUtc:t.useUtc,utcOffset:t.utcOffset,fullscreen:t.fullscreen||!1}).then(function(e){var i=function(e){return e?(e=moment.isMoment(e)?e:moment(e),t.useUtc?e=moment(e).utc():t.utcOffset&&(e=moment(e).utcOffset(t.utcOffset)),e):void 0};"input"==n[0].tagName.toLowerCase()?a.$setViewValue(i(e).format(t.timeFormat)):a.$setViewValue(i(e).toDate()),a.$render()})};n.on("click",o),t.$on("$destroy",function(){n.off("click",o)})}}}}])}();
//# sourceMappingURL=mdPickers.min.js.map
